{"remainingRequest":"D:\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\src\\components\\DataTableActions.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\src\\components\\DataTableActions.vue","mtime":1584064692000},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBjb21wb25lbnRzDQppbXBvcnQgQ2FyZERldGFpbCBmcm9tICcuL0NhcmREZXRhaWwnDQovLyBjb25maWcNCmltcG9ydCBsaXN0UmV3YXJkc0luZm8gZnJvbSAnQC92aWV3cy9jb25maWcvbGlzdFJld2FyZHNJbmZvJw0KLy8gbW9kdWxlcw0KaW1wb3J0IHsgVGltZXN0YW1wRGF0ZXN0cmluZ1RyYW5zZmVyIH0gZnJvbSAnQC9tb2R1bGVzL0RhdGVUaW1lcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc0VkaXREaWFsb2c6IGZhbHNlLA0KICAgICAgDQogICAgICBzZWxlY3RlZENvbnRlbnQ6IG51bGwNCiAgICB9DQogIH0sDQoNCg0KICBwcm9wczogew0KICAgIGRlZmF1bHREYXRhVGFibGVBY3Rpb25zOiB7fSwNCg0KICAgIC8vIENhcmREZXRhaWwNCiAgICBkZWZhdWx0Q2FyZERldGFpbDogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgIH0sDQoNCiAgICBjb250ZW50Q2FyZERldGFpbDogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgIH0sDQogIH0sDQoNCg0KICBjb21wdXRlZDogew0KICAgIA0KICB9LA0KDQoNCiAgd2F0Y2g6IHsNCiAgICBpc0VkaXREaWFsb2codXBkYXRlZCkgew0KICAgICAgaWYgKHVwZGF0ZWQgPT0gZmFsc2UpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRlbnQgPSBudWxsDQogICAgICB9DQogICAgfQ0KICB9LA0KDQogDQoNCiAgbWV0aG9kczogew0KICAgIGl0ZW1FZGl0b3IoaXRlbSkgew0KICAgICAgdGhpcy5zZWxlY3RlZENvbnRlbnQgPSB7fQ0KICAgICAgbGV0IGNvbnRlbnQgPSBpdGVtLmNvbnRlbnQNCiAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoY29udGVudCkNCiAgICAgIGxldCBsaXN0ID0gW10NCiAgICAgIA0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBrZXkgPSBrZXlzW2ldDQogICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBsaXN0UmV3YXJkc0luZm8ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICBsZXQgb2JqTmV3ID0ge25hbWU6IG51bGwsIG51bTogbnVsbH0NCiAgICAgICAgICAgICAgDQogICAgICAgICAgaWYoa2V5ID09IGxpc3RSZXdhcmRzSW5mb1tqXS52YWx1ZSkgew0KICAgICAgICAgICAgb2JqTmV3Lm5hbWUgPSBsaXN0UmV3YXJkc0luZm9bal0ubmFtZQ0KICAgICAgICAgICAgb2JqTmV3Lm51bSA9IGNvbnRlbnRba2V5XQ0KICAgICAgICAgICAgbGlzdC5wdXNoKG9iak5ldykNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuc2VsZWN0ZWRDb250ZW50Lm5hbWUgPSBpdGVtLm5hbWUNCiAgICAgIHRoaXMuc2VsZWN0ZWRDb250ZW50LmNvbnRlbnQgPSBsaXN0DQogICAgICB0aGlzLnNlbGVjdGVkQ29udGVudC5kdXJhdGlvbiA9IGl0ZW0uZHVyYXRpb24NCiAgICAgIHRoaXMuaXNFZGl0RGlhbG9nID0gdHJ1ZQ0KICAgIH0sDQoNCiAgICBkaWFsb2dDbG9zZXIoKSB7DQogICAgICB0aGlzLmlzRWRpdERpYWxvZyA9IGZhbHNlDQogICAgfSwNCg0KICAgIGRhdGV0aW1lUmVzdHJ1Y3RvcihpdGVtKSB7DQogICAgICBsZXQgZGF0ZXMgPSBpdGVtLmR1cmF0aW9uLnNwbGl0KCctJykNCiAgICAgIGxldCBkYXRlU3RhcnQgPSBUaW1lc3RhbXBEYXRlc3RyaW5nVHJhbnNmZXIoZGF0ZXNbMF0pDQogICAgICBsZXQgZGF0ZUVuZCA9IFRpbWVzdGFtcERhdGVzdHJpbmdUcmFuc2ZlcihkYXRlc1sxXSkNCiAgICAgIHJldHVybiBkYXRlU3RhcnQgKyAnIH4gJyArIGRhdGVFbmQNCiAgICB9LA0KDQogICAgb3ZlcmRhdGVTZXR0ZXIoaXRlbSkgew0KICAgICAgbGV0IHN0YXR1cyA9IG51bGwNCiAgICAgIGxldCBkYXRlcyA9IGl0ZW0uZHVyYXRpb24uc3BsaXQoJy0nKQ0KICAgICAgbGV0IGRhdGVFbmQgPSBOdW1iZXIoZGF0ZXNbMV0pDQogICAgICBsZXQgbm93ID0gbmV3IERhdGUoKQ0KICAgICAgbGV0IG5vd1RpbWVzdGFtcCA9IE1hdGguZmxvb3Iobm93IC8gMTAwMCkNCiAgICAgIA0KICAgICAgaWYgKGRhdGVFbmQgPCBub3dUaW1lc3RhbXApIHsNCiAgICAgICAgc3RhdHVzID0gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgc3RhdHVzID0gZmFsc2UNCiAgICAgIH0NCiAgICAgIHJldHVybiBzdGF0dXMNCiAgICB9LA0KDQogICAgZGF0YUVkaXRUcmFuc3BvcnRlcih1cGRhdGVkKSB7DQogICAgICB0aGlzLiRlbWl0KCdkYXRhVHJhbnNwb3J0JywgdXBkYXRlZCkNCiAgICB9DQogIA0KICB9LA0KDQogIGNvbXBvbmVudHM6IHsgQ2FyZERldGFpbCB9DQp9DQo="},{"version":3,"sources":["DataTableActions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA","file":"DataTableActions.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-data-table\r\n    :headers=\"defaultDataTableActions.listHeaders\"\r\n    :items=\"defaultDataTableActions.listData\"\r\n    sort-by=\"calories\"\r\n    disable-sort\r\n    disable-filtering\r\n    class=\"elevation-1 pb-12\"\r\n    :mobile-breakpoint=\"-1\"\r\n  >\r\n    <template v-slot:top>\r\n      <v-toolbar flat color=\"white\">\r\n        <v-toolbar-title>{{ defaultDataTableActions.title }}</v-toolbar-title>\r\n        <v-divider\r\n          class=\"mx-4\"\r\n          inset\r\n          vertical\r\n        />\r\n        <v-spacer/>\r\n        <v-dialog v-model=\"isEditDialog\" max-width=\"500px\">\r\n          <CardDetail\r\n            v-if=\"selectedContent\"\r\n            :defaultCardDetail=\"defaultDataTableActions.listActions.Edit\"\r\n            :contentCardDetail=\"selectedContent\"\r\n            @dataTransport=\"dataEditTransporter\"\r\n            @dialogClose=\"dialogCloser\"\r\n          />\r\n        </v-dialog>\r\n      </v-toolbar>\r\n    </template>\r\n\r\n    <template v-slot:item.action=\"{ item }\">\r\n      <v-btn \r\n        color=\"warning\"\r\n        @click=\"itemEditor(item)\"\r\n      >\r\n        <v-icon\r\n          small\r\n          class=\"mr-2\"\r\n        >\r\n          mdi-pencil\r\n        </v-icon>\r\n        編輯\r\n      </v-btn>\r\n    </template>\r\n\r\n    <template v-if=\"defaultDataTableActions.listData[0].content\" v-slot:item.content=\"{ item }\">\r\n      <v-row v-if=\"item.content.tokenBronze\">\r\n        <v-chip color=\"#CD7F32\">銅代幣: {{ item.content.tokenBronze }}</v-chip>\r\n      </v-row>\r\n      <v-row v-if=\"item.content.tokenGold\">\r\n        <v-chip color=\"#d4af37\">金代幣: {{ item.content.tokenGold }}</v-chip>\r\n      </v-row>\r\n      <v-row v-if=\"item.content.raffleBronze\">\r\n        <v-chip color=\"red\">銅抽獎包: {{ item.content.raffleBronze }}</v-chip>\r\n      </v-row>\r\n      <v-row v-if=\"item.content.raffleGold\">\r\n        <v-chip color=\"blue\">金抽獎包: {{ item.content.raffleGold }}</v-chip>\r\n      </v-row>\r\n    </template>\r\n\r\n    <template v-if=\"defaultDataTableActions.listData[0].duration\" v-slot:item.duration=\"{ item }\">\r\n      <v-chip color=\"error\" v-if=\"overdateSetter(item)\">過期: </v-chip>\r\n      {{datetimeRestructor(item)}}\r\n    </template>\r\n\r\n  </v-data-table>\r\n</template>\r\n\r\n<script>\r\n// components\r\nimport CardDetail from './CardDetail'\r\n// config\r\nimport listRewardsInfo from '@/views/config/listRewardsInfo'\r\n// modules\r\nimport { TimestampDatestringTransfer } from '@/modules/DateTimes'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isEditDialog: false,\r\n      \r\n      selectedContent: null\r\n    }\r\n  },\r\n\r\n\r\n  props: {\r\n    defaultDataTableActions: {},\r\n\r\n    // CardDetail\r\n    defaultCardDetail: {\r\n      type: Object,\r\n    },\r\n\r\n    contentCardDetail: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n\r\n  computed: {\r\n    \r\n  },\r\n\r\n\r\n  watch: {\r\n    isEditDialog(updated) {\r\n      if (updated == false) {\r\n        this.selectedContent = null\r\n      }\r\n    }\r\n  },\r\n\r\n \r\n\r\n  methods: {\r\n    itemEditor(item) {\r\n      this.selectedContent = {}\r\n      let content = item.content\r\n      let keys = Object.keys(content)\r\n      let list = []\r\n      \r\n      for (let i = 0; i < keys.length; i++) {\r\n        let key = keys[i]\r\n        for(let j = 0; j < listRewardsInfo.length; j++) {\r\n          let objNew = {name: null, num: null}\r\n              \r\n          if(key == listRewardsInfo[j].value) {\r\n            objNew.name = listRewardsInfo[j].name\r\n            objNew.num = content[key]\r\n            list.push(objNew)\r\n          }\r\n        }\r\n      }\r\n      this.selectedContent.name = item.name\r\n      this.selectedContent.content = list\r\n      this.selectedContent.duration = item.duration\r\n      this.isEditDialog = true\r\n    },\r\n\r\n    dialogCloser() {\r\n      this.isEditDialog = false\r\n    },\r\n\r\n    datetimeRestructor(item) {\r\n      let dates = item.duration.split('-')\r\n      let dateStart = TimestampDatestringTransfer(dates[0])\r\n      let dateEnd = TimestampDatestringTransfer(dates[1])\r\n      return dateStart + ' ~ ' + dateEnd\r\n    },\r\n\r\n    overdateSetter(item) {\r\n      let status = null\r\n      let dates = item.duration.split('-')\r\n      let dateEnd = Number(dates[1])\r\n      let now = new Date()\r\n      let nowTimestamp = Math.floor(now / 1000)\r\n      \r\n      if (dateEnd < nowTimestamp) {\r\n        status = true\r\n      } else {\r\n        status = false\r\n      }\r\n      return status\r\n    },\r\n\r\n    dataEditTransporter(updated) {\r\n      this.$emit('dataTransport', updated)\r\n    }\r\n  \r\n  },\r\n\r\n  components: { CardDetail }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}