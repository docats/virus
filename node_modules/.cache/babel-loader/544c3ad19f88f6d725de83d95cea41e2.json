{"remainingRequest":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\vue\\src\\services\\request.js","dependencies":[{"path":"D:\\vue\\src\\services\\request.js","mtime":1583820036000},{"path":"D:\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgbXlDb25maWcgZnJvbSAnLi9jb25maWcnOwpsZXQgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogbXlDb25maWcuQmFzZVVybCwKICB0aW1lb3V0OiBteUNvbmZpZy5UaW1lb3V0Cn0pOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGlmIChsb2NhbFN0b3JhZ2UudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9OwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4gewogIHJldHVybiByZXNwb25zZTsKfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKCdyZXNwb25zZSBlcnJvcjonICsgZXJyb3IpOwoKICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICBWdWUucHJvdG90eXBlLiRtZXNzYWdlLmVycm9yKGVycm9yLCBteUNvbmZpZy5UaW1lb3V0KTsKICB9IGVsc2UgewogICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UuZXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlLCBteUNvbmZpZy5UaW1lb3V0KTsKICAgIH0gZWxzZSB7CiAgICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSwgbXlDb25maWcuVGltZW91dCk7CiAgICB9CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGZ1bmN0aW9uIGFwaVBvc3QodXJsLCBpbmZvUmVxdWVzdCA9IHt9KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIHNlcnZpY2UucG9zdCh1cmwsIGluZm9SZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgIH0sIGVyciA9PiB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGFwaUdldCh1cmwpIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgc2VydmljZS5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICB9LCBlcnIgPT4gewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["D:/vue/src/services/request.js"],"names":["axios","Vue","myConfig","service","create","baseURL","BaseUrl","timeout","Timeout","interceptors","request","use","config","localStorage","token","headers","error","console","log","Promise","reject","response","prototype","$message","data","message","apiPost","url","infoRequest","resolve","post","then","err","apiGet","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,IAAIC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEH,QAAQ,CAACI,OADO;AAEzBC,EAAAA,OAAO,EAAEL,QAAQ,CAACM;AAFO,CAAb,CAAd;AAMAL,OAAO,CAACM,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACEC,MAAM,IAAG;AACP,MAAIC,YAAY,CAACC,KAAjB,EAAwB;AACtBF,IAAAA,MAAM,CAACG,OAAP,GAAiB;AACf,sBAAgB;AADD,KAAjB;AAGD;;AAED,SAAOH,MAAP;AACD,CATH,EAUEI,KAAK,IAAI;AACPC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,EAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf;AACD,CAbH;AAgBAb,OAAO,CAACM,YAAR,CAAqBY,QAArB,CAA8BV,GAA9B,CACEU,QAAQ,IAAI;AACV,SAAOA,QAAP;AACD,CAHH,EAIEL,KAAK,IAAI;AACPC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAoBF,KAAhC;;AACA,MAAI,CAACA,KAAK,CAACK,QAAX,EAAqB;AACnBpB,IAAAA,GAAG,CAACqB,SAAJ,CAAcC,QAAd,CAAuBP,KAAvB,CAA6BA,KAA7B,EAAoCd,QAAQ,CAACM,OAA7C;AACD,GAFD,MAEO;AACL,QAAIQ,KAAK,CAACK,QAAN,CAAeG,IAAf,IAAuBR,KAAK,CAACK,QAAN,CAAeG,IAAf,CAAoBC,OAA/C,EAAwD;AACtDxB,MAAAA,GAAG,CAACqB,SAAJ,CAAcC,QAAd,CAAuBP,KAAvB,CAA6BA,KAAK,CAACK,QAAN,CAAeG,IAAf,CAAoBC,OAAjD,EAA0DvB,QAAQ,CAACM,OAAnE;AACD,KAFD,MAEO;AACLP,MAAAA,GAAG,CAACqB,SAAJ,CAAcC,QAAd,CAAuBP,KAAvB,CAA6BA,KAAK,CAACS,OAAnC,EAA4CvB,QAAQ,CAACM,OAArD;AACD;AACF;;AAED,SAAOW,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAjBH;AAoBA,OAAO,SAASU,OAAT,CAAiBC,GAAjB,EAAsBC,WAAW,GAAG,EAApC,EAAwC;AAC7C,SAAO,IAAIT,OAAJ,CAAY,CAACU,OAAD,EAAUT,MAAV,KAAqB;AACtCjB,IAAAA,OAAO,CAAC2B,IAAR,CAAaH,GAAb,EAAkBC,WAAlB,EAA+BG,IAA/B,CACEV,QAAQ,IAAI;AACVQ,MAAAA,OAAO,CAACR,QAAQ,CAACG,IAAV,CAAP;AACD,KAHH,EAIEQ,GAAG,IAAI;AACLZ,MAAAA,MAAM,CAACY,GAAD,CAAN;AACD,KANH;AAQD,GATM,CAAP;AAUD;AAED,OAAO,SAASC,MAAT,CAAgBN,GAAhB,EAAqB;AAC1B,SAAO,IAAIR,OAAJ,CAAY,CAACU,OAAD,EAAUT,MAAV,KAAqB;AACtCjB,IAAAA,OAAO,CAAC+B,GAAR,CAAYP,GAAZ,EAAiBI,IAAjB,CACEV,QAAQ,IAAI;AACVQ,MAAAA,OAAO,CAACR,QAAD,CAAP;AACD,KAHH,EAIEW,GAAG,IAAI;AACLZ,MAAAA,MAAM,CAACY,GAAD,CAAN;AACD,KANH;AAQD,GATM,CAAP;AAUD","sourcesContent":["import axios from 'axios'\r\nimport Vue from 'vue'\r\nimport myConfig from './config'\r\n\r\nlet service = axios.create({\r\n  baseURL: myConfig.BaseUrl,\r\n  timeout: myConfig.Timeout\r\n})\r\n\r\n\r\nservice.interceptors.request.use(\r\n  config =>{\r\n    if (localStorage.token) {\r\n      config.headers = {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }\r\n  \r\n    return config\r\n  },\r\n  error => {\r\n    console.log(error)\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  response => {\r\n    return response\r\n  },\r\n  error => {\r\n    console.log('response error:' + error)\r\n    if (!error.response) {\r\n      Vue.prototype.$message.error(error, myConfig.Timeout)\r\n    } else {\r\n      if (error.response.data && error.response.data.message) {\r\n        Vue.prototype.$message.error(error.response.data.message, myConfig.Timeout)\r\n      } else {\r\n        Vue.prototype.$message.error(error.message, myConfig.Timeout)\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport function apiPost(url, infoRequest = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service.post(url, infoRequest).then(\r\n      response => {\r\n        resolve(response.data)\r\n      },\r\n      err => {\r\n        reject(err)\r\n      }\r\n    )\r\n  })\r\n}\r\n\r\nexport function apiGet(url) {\r\n  return new Promise((resolve, reject) => {\r\n    service.get(url).then(\r\n      response => {\r\n        resolve(response)\r\n      },\r\n      err => {\r\n        reject(err)\r\n      }\r\n    )\r\n  })\r\n}"]}]}